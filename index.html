<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>杨晓龙</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="杨晓龙">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="杨晓龙">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="杨晓龙">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="杨晓龙" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=4226557088,1275478253&amp;fm=116&amp;gp=0.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">杨晓龙</a></h1>
		</hgroup>

		
		<p class="header-subtitle">带着梦想去旅行，你会发现路上比终点更有意义</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="/#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="/#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/AFNetworking/" style="font-size: 10px;">AFNetworking</a> <a href="/tags/UIAlertController/" style="font-size: 10px;">UIAlertController</a> <a href="/tags/cocoaPods/" style="font-size: 10px;">cocoaPods</a> <a href="/tags/hexo教程/" style="font-size: 10px;">hexo教程</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">杨晓龙</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<img lazy-src="https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=4226557088,1275478253&amp;fm=116&amp;gp=0.jpg" class="js-avatar">
			</div>
			<hgroup>
			  <h1 class="header-author">杨晓龙</h1>
			</hgroup>
			
			<p class="header-subtitle">带着梦想去旅行，你会发现路上比终点更有意义</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="/#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="/#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="/#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="/#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>
      <div class="body-wrap">
  
    <article id="post-三个月开发心得" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/03/25/三个月开发心得/" class="article-date">
  	<time datetime="2016-03-25T08:13:54.000Z" itemprop="datePublished">2016-03-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/03/25/三个月开发心得/">三个月开发心得</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>//隐藏 </p>
<pre><code><span class="keyword">self</span><span class="variable">.tableView</span><span class="variable">.showsVerticalScrollIndicator</span> = <span class="literal">NO</span>;
</code></pre><p>//修改颜色    </p>
<pre><code><span class="keyword">self</span><span class="variable">.tableView</span><span class="variable">.indicatorStyle</span>=<span class="built_in">UIScrollViewIndicatorStyleWhite</span>;

cell<span class="variable">.accessoryType</span> = <span class="built_in">UITableViewCellAccessoryDisclosureIndicator</span>; <span class="comment">//显示最右边的箭头 </span>
</code></pre><p>//tableview没有数据的时候不显示线</p>
<pre><code>_tableView.tableFooterView = <span class="comment">[<span class="comment">[UIView alloc]</span> init]</span>;
</code></pre><p>//隐藏cell的那条线</p>
<pre><code>tableView.separatorStyle = UITableViewCellSeparatorStyleNone<span class="comment">;</span>
</code></pre><p>//取消点击选中效果</p>
<pre><code><span class="tag">-</span> (void)<span class="tag">tableView</span>:(UITableView *)<span class="tag">tableView</span> <span class="tag">didSelectRowAtIndexPath</span>:(NSIndexPath *)<span class="tag">indexPath</span>
{
<span class="attr_selector">[tableView deselectRowAtIndexPath:indexPath animated:YES]</span>;
}
</code></pre><p>// 隐藏item</p>
<pre><code><span class="keyword">self</span>.navigationItem.leftBarButtonItem = <span class="literal">nil</span>; 
</code></pre><p>有时候有些操作是防止用户在一次响应结束中再响应下一个。但有些测试用户就要猛点，狂点。像这种恶意就要进行防止。<br>当然有些异步操作时，可以在调用前enable 掉。等CallBACK 后再enable起来。过程中按钮是不能点的。<br>1、可以使用：</p>
<pre><code>- (<span class="keyword">void</span>) timeEnough
{
<span class="built_in">UIButton</span> *btn=(<span class="built_in">UIButton</span>*)[<span class="keyword">self</span><span class="variable">.view</span> viewWithTag:<span class="number">33</span>];
btn<span class="variable">.selected</span>=<span class="literal">NO</span>;
}
- (<span class="keyword">void</span>) btnDone:(<span class="built_in">UIButton</span>*)btn
{
<span class="keyword">if</span>(btn<span class="variable">.selected</span>) <span class="keyword">return</span>;
btn<span class="variable">.selected</span>=<span class="literal">YES</span>;
[<span class="keyword">self</span> performSelector:<span class="keyword">@selector</span>(timeEnough) withObject:<span class="literal">nil</span> afterDelay:<span class="number">3.0</span>]; <span class="comment">//使用延时进行限制。</span>
<span class="comment">//to do something.</span>
｝
</code></pre><p>2、个人觉得这种方法更为好用些。</p>
<pre><code><span class="tag">-</span> (void)<span class="tag">todoSomething</span>:(id)<span class="tag">sender</span>
{
<span class="comment">//在这里做按钮的想做的事情。</span>
}
<span class="tag">-</span> (void)<span class="tag">starButtonClicked</span>:(id)<span class="tag">sender</span>
{
<span class="comment">//先将未到时间执行前的任务取消。</span>
<span class="attr_selector">[[self class]</span> <span class="tag">cancelPreviousPerformRequestsWithTarget</span><span class="pseudo">:self</span> <span class="tag">selector</span>:@<span class="tag">selector</span>(<span class="attribute">todoSomething</span>:) <span class="tag">object</span><span class="pseudo">:sender</span>];
<span class="attr_selector">[self performSelector:@selector(todoSomething:) withObject:sender afterDelay:0.2f]</span>;
}
</code></pre><p>对于第二种方法，快速点击Ｎ次，只要每次间隔在0.2秒内的都不响应操作，等到停下点击到达0.2秒后再执行。所以按照自己的需要设置响应时间，狂点吧。只响应一次。。</p>
<p>在解决这个问题的时候，网上查了一下，都是这篇文章。还被转载了好多次。<br>我试了试，第二种方法是有问题的，事实上0.2秒发出响应后再到事件的完成中间依然可以点击产生重复响应。等于延时了0.2秒再犯错。<br>第一种倒是可以的，只是延时总是觉得不是很合理，我的事件是推出一个视图，所以我把btn.selected=NO;放在了will appear里面。</p>
<p>// 防止collection多次响应事件</p>
<pre><code>[collectionView <span class="string">setUserInteractionEnabled:</span>NO];
[collectionView <span class="string">performSelector:</span><span class="annotation">@selector</span>(<span class="string">setUserInteractionEnabled:</span>)
<span class="label">                     withObject:</span>[NSNumber <span class="string">numberWithBool:</span>YES] <span class="string">afterDelay:</span><span class="number">0.5</span>f];
</code></pre><p>//取得本地程序的版本号 </p>
<pre><code>NSDictionary *<span class="built_in">local</span>Dic =[[NSBundle mainBundle]     infoDictionary];

NSString *<span class="built_in">local</span>Version =[<span class="built_in">local</span>Dic     objectForKey:@<span class="string">"CFBundleShortVersionString"</span>];
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-AFNetworking-3-0迁移指南" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/02/02/AFNetworking-3-0迁移指南/" class="article-date">
  	<time datetime="2016-02-02T04:40:52.000Z" itemprop="datePublished">2016-02-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/02/02/AFNetworking-3-0迁移指南/">AFNetworking 3.0迁移指南</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="AFNetworking_3-0">AFNetworking 3.0</h2><pre><code>AFNetworking是一款在OS X和iOS下都令人喜爱的网络库。为了迎合iOS新版本的升级, AFNetworking在<span class="number">3.0</span>版本中删除了基于 <span class="built_in">NSURLConnection</span> API的所有支持。如果你的项目以前使用过这些API，建议您立即升级到基于 <span class="built_in">NSURLSession</span> 的API的AFNetworking的版本。本指南将引导您完成这个过程。
</code></pre><p>本指南是为了引导使用AFNetworking 2.x升级到最新的版本API，以达到过渡的目的，并且解释了新增和更改的设计结构。</p>
<h2 id="新设备要求:_iOS_7,_Mac_OS_X_10-9,_watchOS_2,_tvOS_9,_&amp;_Xcode_7">新设备要求: iOS 7, Mac OS X 10.9, watchOS 2, tvOS 9, &amp; Xcode 7</h2><p>AFNetworking 3.0正式支持的iOS 7， Mac OS X的10.9， watchOS 2 ， tvOS 9 和Xcode 7。如果你想使用AFNetworking在针对较旧版本的SDK项目，请检查README的兼容性信息。</p>
<h2 id="NSURLConnection的API已废弃">NSURLConnection的API已废弃</h2><p>AFNetworking 1.0建立在NSURLConnection的基础API之上 ，AFNetworking 2.0开始使用NSURLConnection的基础API ，以及较新基于NSURLSession的API的选项。 AFNetworking 3.0现已完全基于NSURLSession的API，这降低了维护的负担，同时支持苹果增强关于NSURLSession提供的任何额外功能。由于Xcode 7中，NSURLConnection的API已经正式被苹果弃用。虽然该API将继续运行，但将没有新功能将被添加，并且苹果已经通知所有基于网络的功能，以充分使NSURLSession向前发展。<br>AFNetworking 2.X将继续获得关键的隐患和安全补丁，但没有新的功能将被添加。Alamofire(Swift下的网络请求)软件基金会建议，所有的项目迁移到基于NSURLSession的API。</p>
<h3 id="弃用的类">弃用的类</h3><p>下面的类已从AFNetworking 3.0中废弃：</p>
<ul>
<li>AFURLConnectionOperation</li>
<li>AFHTTPRequestOperation</li>
<li>AFHTTPRequestOperationManager</li>
</ul>
<h3 id="修改的类">修改的类</h3><p>下面的类包含基于NSURLConnection的API的内部实现。他们已经被使用NSURLSession重构:</p>
<ul>
<li>UIImageView+AFNetworking</li>
<li>UIWebView+AFNetworking</li>
<li>UIButton+AFNetworking</li>
</ul>
<h3 id="迁移">迁移</h3><h4 id="AFHTTPRequestOperationManager_核心代码">AFHTTPRequestOperationManager 核心代码</h4><p>如果你以前使用 AFHTTPRequestOperationManager ， 你将需要迁移去使用 AFHTTPSessionManager。 以下的类在两者过渡间并没有变化：</p>
<ul>
<li>securityPolicy</li>
<li>requestSerializer</li>
<li>responseSerializer</li>
</ul>
<p>接下来举一个关于AFHTTPSessionManager的简单例子。注意HTTP网络请求返回的不再是AFHTTPRequestOperation, 修改成为了NSURLSessionTask，并且成功和失败的Block块中的参数也变更为了NSURLSessionTask，而不再是AFHTTPRequestOperation。</p>
<h4 id="AFNetworking_2-x">AFNetworking 2.x</h4><pre><code>AFHTTPRequestOperationManager *manager = [AFHTTPRequestOperationManager manager];
[manager GET:<span class="string">@"请求的url"</span> parameters:<span class="literal">nil</span> success:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) {
    <span class="built_in">NSLog</span>(<span class="string">@"成功"</span>);
} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span>*error) {
    <span class="built_in">NSLog</span>(<span class="string">@"失败"</span>);
}];
</code></pre><h4 id="AFNetworking_3-0-1">AFNetworking 3.0</h4><pre><code>AFHTTPSessionManager *session = [AFHTTPSessionManager manager];
[session GET:<span class="string">@"请求的url"</span> parameters:<span class="literal">nil</span> success:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="keyword">id</span> responseObject) {
    <span class="built_in">NSLog</span>(<span class="string">@"成功"</span>);
} failure:^(<span class="built_in">NSURLSessionDataTask</span> *task, <span class="built_in">NSError</span> *error) {
    <span class="built_in">NSLog</span>(<span class="string">@"失败"</span>);        
}];
</code></pre><h4 id="AFHTTPRequestOperation_核心代码">AFHTTPRequestOperation 核心代码</h4><p>与NSURLConnection对象不同，每个共享应用范围的设置如会话管理、缓存策略、Cookie存储以及URL协议等，这些NSURLSession对象都可以单独进行配置。使用特定的配置来初始化会话，它可以发送任务来获取数据，并上传或下载文件。</p>
<p>在AFNetworking 2.0中，使用AFHTTPRequestOperation，有可能创建一个没有额外开销的独立的网络请求来获取数据。NSURLSession则需要更多的开销，为了获得所要请求的数据。</p>
<p>接下来，将要通过AFHTTPSessionManager创建一个对象，并创建一个任务和启动它。</p>
<h4 id="AFNetworking_2-x-1">AFNetworking 2.x</h4><pre><code><span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@""</span>];
<span class="built_in">NSURLRequest</span> *request = [<span class="built_in">NSURLRequest</span> requestWithURL:URL];
AFHTTPRequestOperation *op = [[AFHTTPRequestOperation alloc] initWithRequest:request];
op<span class="variable">.responseSerializer</span> = [AFJSONResponseSerializer serializer];
[op setCompletionBlockWithSuccess:^(AFHTTPRequestOperation *operation, <span class="keyword">id</span> responseObject) {
    <span class="built_in">NSLog</span>(<span class="string">@"JSON: %@"</span>, responseObject);
} failure:^(AFHTTPRequestOperation *operation, <span class="built_in">NSError</span> *error) {
    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);
}];
[[<span class="built_in">NSOperationQueue</span> mainQueue] addOperation:op];
</code></pre><h4 id="AFNetworking_3-0-2">AFNetworking 3.0</h4><pre><code><span class="built_in">NSURL</span> *URL = [<span class="built_in">NSURL</span> URLWithString:<span class="string">@""</span>];
AFHTTPSessionManager *manager = [AFHTTPSessionManager manager];
[manager GET:URL<span class="variable">.absoluteString</span> parameters:<span class="literal">nil</span> success:^(<span class="built_in">NSURLSessionTask</span> *task, <span class="keyword">id</span> responseObject) {
    <span class="built_in">NSLog</span>(<span class="string">@"JSON: %@"</span>, responseObject);
} failure:^(<span class="built_in">NSURLSessionTask</span> *operation, <span class="built_in">NSError</span> *error) {
    <span class="built_in">NSLog</span>(<span class="string">@"Error: %@"</span>, error);
}];
 <span class="built_in">NSDictionary</span> *parameters = @{};

[session POST:<span class="string">@""</span> parameters:parameters progress:^(<span class="built_in">NSProgress</span> * _Nonnull uploadProgress) {

} success:^(<span class="built_in">NSURLSessionDataTask</span> * _Nonnull task, <span class="keyword">id</span>  _Nullable responseObject) {
    <span class="built_in">NSLog</span>(<span class="string">@"JSON:%@"</span>,responseObject);
} failure:^(<span class="built_in">NSURLSessionDataTask</span> * _Nullable task, <span class="built_in">NSError</span> * _Nonnull error) {
    <span class="built_in">NSLog</span>(<span class="string">@"error"</span>);
}];
</code></pre><h4 id="UIKit的迁移">UIKit的迁移</h4><p>图片下载已经被重构，以遵循AlamofireImage架构与新的AFImageDownloader类。这个类的图片下载职责的代理人是UIButton与UIImageView的类目，并且提供了一些方法，在必要时可以自定义。类别中，下载远程图片的实际方法没有改变。</p>
<p>UIWebView的类目被重构为使用AFHTTPSessionManager作为其网络请求。</p>
<h4 id="UIAlertView的类目被废弃">UIAlertView的类目被废弃</h4><p>从AFNetworking 3.0后UIAlertView的类目因过时而被废弃。并没有提供UIAlertController类目的计划，因为这是应用程序应处理的逻辑，而不是这个库。</p>
<p>原文链接: <a href="https://github.com/AFNetworking/AFNetworking/wiki/AFNetworking-3.0-Migration-Guide#new-requirements-ios-7-mac-os-x-109-watchos-2-tvos-9--xcode-7" target="_blank" rel="external">AFNetworking 3.0</a></p>
<p>纯属个人翻译，如有错误，还请纠正。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AFNetworking/">AFNetworking</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-推荐一个聊天界面的UI" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/29/推荐一个聊天界面的UI/" class="article-date">
  	<time datetime="2016-01-29T01:40:15.000Z" itemprop="datePublished">2016-01-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/29/推荐一个聊天界面的UI/">推荐一个聊天界面的UI</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="MQChatViewController">MQChatViewController</h1><p>An easy-to-customize messages UI Library for iOS.</p>
<p><strong>MQChatViewController</strong> 是一套易于定制的 iOS 开源聊天界面。</p>
<h2 id="为什么再写一套聊天_Library？">为什么再写一套聊天 Library？</h2><p>之前在其他项目中用过 <a href="https://github.com/jessesquires/JSQMessagesViewController" target="_blank" rel="external">JSQMessagesViewController</a> 和 <a href="https://github.com/ZhipingYang/UUChatTableView" target="_blank" rel="external">UUChatTableView</a>，两个开源项目都很好，但由于 JSQMessage 多文字气泡<a href="https://github.com/jessesquires/JSQMessagesViewController/issues/492" target="_blank" rel="external">卡顿的问题</a>迟迟得不到解决，UUChatView 增加自定义 Cell 并不是那么方便，所以决定写一套方便自定义的聊天界面。</p>
<h2 id="Goal_-_目标">Goal - 目标</h2><p>该聊天界面的<strong>目标</strong>是，<strong>能让开发者很方便地进行定制</strong>。</p>
<p>为了达成该目标，该 Library 做了如下设计：</p>
<ul>
<li>避免 MVC (Massive View Controller)，将 TableView、TableView 的 DataSource 和 ViewController 的数据管理都独立出去，ViewController 只充当 View 和 Model 的接口；</li>
<li>为每一种 Cell 建立一个单独的类，以方便开发者进行修改和替换；</li>
<li>所有的 Cell 都继承于一个基 Cell，这样开发者就不需要修改 DataSource 中的逻辑；</li>
<li>所有的 CellModel 都必须满足一类协议方法，避免开发者过多的修改数据管理的逻辑；</li>
<li>如果开发者不需要再自定义其他的 View，则不需要修改 ViewController；</li>
</ul>
<h2 id="Usage_-_使用方法">Usage - 使用方法</h2><p>最简单的使用方式，即初始化 <code>MQChatViewManager</code>，然后对界面进行配置，最后调用启动聊天界面接口即可；</p>
<p>如果你想在某一个 ViewController，Push 一个聊天界面，可复制下面两行代码：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MQChatViewManager *chatViewManager = [[MQChatViewManager alloc] init];&#10;[chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p>有关聊天界面的配置，请见文档末尾的 <a href="#configuration---配置">Configuration</a> 小节.</p>
<h2 id="Project_Structure_-_代码结构">Project Structure - 代码结构</h2><table>
<thead>
<tr>
<th>文件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/ChatViewManager" target="_blank" rel="external">Config/</a></td>
<td>对聊天界面进行配置的文件</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/ViewController/MQChatViewController.h" target="_blank" rel="external">Controllers/MQChatViewController</a></td>
<td>界面的 Controller 类</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/ViewController/MQChatViewService.h" target="_blank" rel="external">Controllers/MQChatViewService</a></td>
<td>界面的数据管理类，开发者可在该类中对接自己项目的 APIManager，来进行发送、收取消息等业务逻辑</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/ViewController/MQChatViewTableDataSource.h" target="_blank" rel="external">Controllers/MQChatViewTableDataSource</a></td>
<td>消息的 TableView 的 DataSource，开发者不需要修改该类</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/ViewController/MQChatTableView.h" target="_blank" rel="external">Views/MQChatTableView</a></td>
<td>消息的 TableView</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/ChatCells/CellModel" target="_blank" rel="external">TableCells/CellModel</a></td>
<td>自定义 Cell 的 ViewModel，进行内容转换、布局计算等等</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/ChatCells/Cell" target="_blank" rel="external">TableCells/CellView</a></td>
<td>自定义的 Cell，Cell 中的View直接使用在相应的 CellModel 中计算好的数据</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/ChatMessages" target="_blank" rel="external">MessageModels/</a></td>
<td>该文件夹中的类是该 Library 会用到的 Message 实体</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/ChatUtil" target="_blank" rel="external">Utils/</a></td>
<td>自定义的工具类</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/Views" target="_blank" rel="external">Views/</a></td>
<td>界面中用到的自定义 View，如聊天 TableView、下拉刷新、输入框等等</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/MQChatViewBundle.bundle" target="_blank" rel="external">Assets/MQChatViewAsset.bundle</a></td>
<td>资源文件，如图片、声音文件等，<strong>注意</strong>用户如果需要通过 MQChatViewManager 修改自定义元素图片，需要将图片放在该 bundle 中</td>
</tr>
<tr>
<td><a href="https://github.com/Meiqia/MQChatViewController/tree/master/MQChatViewControllerDemo/MQChatViewController/Vendors" target="_blank" rel="external">Vendors/</a></td>
<td>第三方开源库</td>
</tr>
</tbody>
</table>
<p>注意：</p>
<ul>
<li>代码中的预处理是为了剥离美洽 SDK 的逻辑，如果你不是美洽 SDK 的用户，可将代码中所有 <code>#ifdef INCLUDE_MEIQIA_SDK</code> 中的逻辑换成自己的API逻辑，如下方：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#ifdef INCLUDE_MEIQIA_SDK&#10;//&#35843;&#29992;&#32654;&#27965;&#30340;API&#36923;&#36753;&#10;#endif</span><br></pre></td></tr></table></figure>
<ul>
<li>如果你是美洽 SDK 用户，则需要在 <code>MQChatViewConfig.h</code> 中，取消下面 define 的注释，以便打开美洽的 API：</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//&#26159;&#21542;&#24341;&#20837;&#32654;&#27965;SDK&#10;//#define INCLUDE_MEIQIA_SDK</span><br></pre></td></tr></table></figure>
<h2 id="Demo_-_示例">Demo - 示例</h2><p>开发者可参考 Demo 中的用法，对聊天界面进行配置，来进行基本的自定义功能，例如下面的示例：</p>
<p><strong>开发者可这样 push 出聊天界面，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MQChatViewManager *chatViewManager = [[MQChatViewManager alloc] init];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo1.gif" alt="screenshot1"></p>
<hr>
<p><strong>开发者可这样 present 出聊天界面的模态视图，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MQChatViewManager *chatViewManager = [[MQChatViewManager alloc] init];&#10;   [chatViewManager presentMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo2.gif" alt="screenshot2"></p>
<hr>
<p><strong>开发者可这样配置：底部按钮、修改气泡颜色、文字颜色、使头像设为圆形，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager setPhotoSenderImage:photoImage highlightedImage:photoHighlightedImage];&#10;   [chatViewManager setVoiceSenderImage:voiceImage highlightedImage:voiceHighlightedImage];&#10;   [chatViewManager setTextSenderImage:keyboardImage highlightedImage:keyboardHighlightedImage];&#10;   [chatViewManager setResignKeyboardImage:resightKeyboardImage highlightedImage:resightKeyboardHighlightedImage];&#10;   [chatViewManager setIncomingBubbleColor:[UIColor redColor]];&#10;   [chatViewManager setIncomingMessageTextColor:[UIColor whiteColor]];&#10;   [chatViewManager setOutgoingBubbleColor:[UIColor yellowColor]];&#10;   [chatViewManager setOutgoingMessageTextColor:[UIColor darkTextColor]];&#10;   [chatViewManager enableRoundAvatar:true];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo3.gif" alt="screenshot3"></p>
<hr>
<p><strong>开发者可这样配置：是否支持发送语音、是否显示本机头像、修改气泡的样式，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager enableSendVoiceMessage:false];&#10;[chatViewManager enableClientAvatar:false];&#10;[chatViewManager setIncomingBubbleImage:incomingBubbleImage];&#10;[chatViewManager setOutgoingBubbleImage:outgoingBubbleImage];&#10;[chatViewManager setBubbleImageStretchInsets:UIEdgeInsetsMake(stretchPoint.y, stretchPoint.x, incomingBubbleImage.size.height-stretchPoint.y+0.5, stretchPoint.x)];&#10;[chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo4.gif" alt="screenshot4"></p>
<hr>
<p><strong>开发者可这样配置：增加可点击链接的正则表达式( Library 本身已支持多种格式链接，如未满足需求可增加)、增加欢迎语、是否开启消息声音、修改接受消息的铃声，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager setMessageLinkRegex:@&#34;((http[s]&#123;0,1&#125;|ftp)://[a-zA-Z0-9\\.\\-]+\\.([a-zA-Z]&#123;2,4&#125;)(:\\d+)?(/[a-zA-Z0-9\\.\\-~!@#$%^&#38;*+?:_/=&#60;&#62;]*)?)|([a-zA-Z0-9\\.\\-]+\\.([a-zA-Z]&#123;2,4&#125;)(:\\d+)?(/[a-zA-Z0-9\\.\\-~!@#$%^&#38;*+?:_/=&#60;&#62;]*)?)&#34;];&#10;   [chatViewManager enableChatWelcome:true];&#10;   [chatViewManager setChatWelcomeText:@&#34;&#20320;&#22909;&#65292;&#35831;&#38382;&#26377;&#20160;&#20040;&#21487;&#20197;&#24110;&#21161;&#21040;&#24744;&#65311;&#34;];&#10;   [chatViewManager setIncomingMessageSoundFileName:@&#34;MQNewMessageRingStyle2.wav&#34;];&#10;   [chatViewManager enableMessageSound:true];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo5.gif" alt="screenshot5"></p>
<hr>
<p><strong>如果 tableView 没有在底部，开发者可这样打开消息的提示，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager enableShowNewMessageAlert:true];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo6.gif" alt="screenshot6"></p>
<hr>
<p><strong>开发者可这样配置：是否支持下拉刷新、修改下拉刷新颜色、增加导航栏标题，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager enableTopPullRefresh:true];&#10;   [chatViewManager setPullRefreshColor:[UIColor redColor]];&#10;   [chatViewManager setNavTitleText:@&#34;&#32654;&#27965;SDK&#34;];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo7.gif" alt="screenshot7"></p>
<hr>
<p><strong>开发者可这样修改导航栏颜色、导航栏左右键、取消图片消息的mask效果，效果如下：</strong><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[chatViewManager setNavTitleText:@&#34;&#32654;&#27965;SDK&#34;];&#10;   [chatViewManager setNavigationBarTintColor:[UIColor redColor]];&#10;   [chatViewManager setNavRightButton:rightButton];&#10;   [chatViewManager pushMQChatViewControllerInViewController:self];</span><br></pre></td></tr></table></figure></p>
<p><img src="https://github.com/ijinmao/MQChatViewController/blob/master/DemoGif/MQChatViewDemo8.gif" alt="screenshot8"></p>
<h2 id="Customization_-_深度自定义">Customization - 深度自定义</h2><p><strong>3步添加自定义 Cell</strong></p>
<ul>
<li>添加自定义的 Cell 类，注意该 Cell 必须继承于 <code>MQChatBaseCell</code>;</li>
<li>添加自定义 Cell 的 CellModel，注意 CellModel 必须实现 <code>MQCellModelProtocol</code> 协议中的方法；</li>
<li>接下来你需要在 <code>MQChatViewService.m</code> 中，使用你自己的发送消息、接受消息的数据接口；注：你可以查看 <code>#ifdef INCLUDE_MEIQIA_SDK</code> 里面的内容，里面用到了我们数据层和UI层的中间接口 <code>MQServiceToViewInterface</code>；</li>
</ul>
<p><strong>替换加载图片的策略</strong></p>
<ul>
<li>该 Library 中没有使用<strong>图片/文件缓存</strong>等策略，加载图片的地方都新开了一个线程进行数据加载，如下方所示，开发者可根据自己的项目替换成不同的缓存策略，如 SDWebImage 等;</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#9;dispatch_async(dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_HIGH, 0), ^&#123;&#10;#warning &#36825;&#37324;&#24320;&#21457;&#32773;&#21487;&#20197;&#20351;&#29992;&#33258;&#24049;&#30340;&#22270;&#29255;&#32531;&#23384;&#31574;&#30053;&#65292;&#22914;SDWebImage&#10;        NSData *imageData = [NSData dataWithContentsOfURL:[NSURL URLWithString:message.userAvatarPath]];&#10;    &#125;);</span><br></pre></td></tr></table></figure>
<h2 id="Configuration_-_配置">Configuration - 配置</h2><p>如果你不想修改聊天界面的内部逻辑，<code>MQChatViewManager</code> 提供了很多接口，可以实现一些自定义设置。</p>
<p>名词解释</p>
<table>
<thead>
<tr>
<th>名词</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>incoming</td>
<td>表示聊天对方</td>
</tr>
<tr>
<td>outgoing</td>
<td>表示本机用户</td>
</tr>
</tbody>
</table>
<p>下面列举一些常用的配置聊天界面的接口如下：(详细请见 <a href="https://github.com/ijinmao/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/ChatViewManager/MQChatViewManager.h" target="_blank" rel="external">MQChatViewManager.h</a>)<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/**&#10; * @brief &#22686;&#21152;&#28040;&#24687;&#20013;&#21487;&#36873;&#20013;&#30340;&#38142;&#25509;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#29992;&#20110;&#21305;&#37197;&#28040;&#24687;&#65292;&#28385;&#36275;&#26465;&#20214;&#27573;&#33853;&#21487;&#20197;&#34987;&#29992;&#25143;&#28857;&#20987;&#12290;&#10; * @param numberRegex &#38142;&#25509;&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#10; */&#10;- (void)setMessageLinkRegex:(NSString *)linkRegex;&#10;&#10;/**&#10; * @brief &#22686;&#21152;&#28040;&#24687;&#20013;&#21487;&#36873;&#20013;&#30340;email&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#65292;&#29992;&#20110;&#21305;&#37197;&#28040;&#24687;&#65292;&#28385;&#36275;&#26465;&#20214;&#27573;&#33853;&#21487;&#20197;&#34987;&#29992;&#25143;&#28857;&#20987;&#12290;&#10; * @param emailRegex email&#30340;&#27491;&#21017;&#34920;&#36798;&#24335;&#10; */&#10;- (void)setMessageEmailRegex:(NSString *)emailRegex;&#10;&#10;/**&#10; * @brief &#35774;&#32622;&#25910;&#21040;&#28040;&#24687;&#30340;&#22768;&#38899;&#65307;&#10; * @param soundFileName &#22768;&#38899;&#25991;&#20214;&#10; */&#10;- (void)setIncomingMessageSoundFileName:(NSString *)soundFileName;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#25903;&#25345;&#21457;&#36865;&#35821;&#38899;&#28040;&#24687;&#65307;&#10; * @param enable YES:&#25903;&#25345;&#21457;&#36865;&#35821;&#38899;&#28040;&#24687; NO:&#19981;&#25903;&#25345;&#21457;&#36865;&#35821;&#38899;&#28040;&#24687;&#10; */&#10;- (void)enableSendVoiceMessage:(BOOL)enable;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#25903;&#25345;&#21457;&#36865;&#22270;&#29255;&#28040;&#24687;&#65307;&#10; * @param enable YES:&#25903;&#25345;&#21457;&#36865;&#22270;&#29255;&#28040;&#24687; NO:&#19981;&#25903;&#25345;&#21457;&#36865;&#22270;&#29255;&#28040;&#24687;&#10; */&#10;- (void)enableSendImageMessage:(BOOL)enable;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#25903;&#25345;&#23545;&#26041;&#22836;&#20687;&#30340;&#26174;&#31034;&#65307;&#10; * @param enable YES:&#25903;&#25345; NO:&#19981;&#25903;&#25345;&#10; */&#10;- (void)enableIncomingAvatar:(BOOL)enable;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#25903;&#25345;&#24403;&#21069;&#29992;&#25143;&#22836;&#20687;&#30340;&#26174;&#31034;&#10; *&#10; * @param enable YES:&#25903;&#25345; NO:&#19981;&#25903;&#25345;&#10; */&#10;- (void)enableOutgoingAvatar:(BOOL)enable;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#24320;&#21551;&#25509;&#21463;/&#21457;&#36865;&#28040;&#24687;&#30340;&#22768;&#38899;&#65307;&#10; * @param enable YES:&#24320;&#21551;&#22768;&#38899; NO:&#20851;&#38381;&#22768;&#38899;&#10; */&#10;- (void)enableMessageSound:(BOOL)enable;&#10;&#10;/**&#10; * @brief &#26159;&#21542;&#24320;&#21551;&#19979;&#25289;&#21047;&#26032;&#65288;&#39030;&#37096;&#21047;&#26032;&#65289;&#10; *&#10; * @param enable YES:&#25903;&#25345; NO:&#19981;&#25903;&#25345;&#10; */&#10;- (void)enableTopPullRefresh:(BOOL)enable;&#10;&#10;/**&#10; *  @brief &#35774;&#32622;&#19979;&#25289;/&#19978;&#25289;&#21047;&#26032;&#30340;&#39068;&#33394;&#10; *&#10; *  @param pullRefreshColor &#39068;&#33394;&#10; */&#10;- (void)setPullRefreshColor:(UIColor *)pullRefreshColor;&#10;&#10;/**&#10; * @brief &#35774;&#32622;&#21457;&#36865;&#36807;&#26469;&#30340;message&#30340;&#25991;&#23383;&#39068;&#33394;&#65307;&#10; * @param textColor &#25991;&#23383;&#39068;&#33394;&#10; */&#10;- (void)setIncomingMessageTextColor:(UIColor *)textColor;&#10;&#10;/**&#10; *  @brief &#35774;&#32622;&#21457;&#36865;&#36807;&#26469;&#30340;message&#27668;&#27873;&#39068;&#33394;&#10; *&#10; *  @param bubbleColor &#27668;&#27873;&#39068;&#33394;&#10; */&#10;- (void)setIncomingBubbleColor:(UIColor *)bubbleColor;&#10;&#10;/**&#10; * @brief &#35774;&#32622;&#21457;&#36865;&#20986;&#21435;&#30340;message&#30340;&#25991;&#23383;&#39068;&#33394;&#65307;&#10; * @param textColor &#25991;&#23383;&#39068;&#33394;&#10; */&#10;- (void)setOutgoingMessageTextColor:(UIColor *)textColor;&#10;&#10;/**&#10; *  @brief &#35774;&#32622;&#21457;&#36865;&#30340;message&#27668;&#27873;&#39068;&#33394;&#10; *&#10; *  @param bubbleColor &#27668;&#27873;&#39068;&#33394;&#10; */&#10;- (void)setOutgoingBubbleColor:(UIColor *)bubbleColor;</span><br></pre></td></tr></table></figure></p>
<p>更多配置请见 <a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/Config/MQChatViewManager.h" target="_blank" rel="external">MQChatViewManager.h</a> 文件。</p>
<h2 id="Localization_-_国际化/本地化">Localization - 国际化/本地化</h2><p>本项目支持<a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/Assets/MQChatViewAsset.bundle/en.lproj/MQChatViewController.strings" target="_blank" rel="external">英文</a>、<a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/Assets/MQChatViewAsset.bundle/zh-Hans.lproj/MQChatViewController.strings" target="_blank" rel="external">简体中文</a>和<a href="https://github.com/Meiqia/MQChatViewController/blob/master/MQChatViewControllerDemo/MQChatViewController/Assets/MQChatViewAsset.bundle/zh-Hant.lproj/MQChatViewController.strings" target="_blank" rel="external">繁体中文</a>，语言的定义在 Assets/MQChatViewAsset.bundle 中。</p>
<p>如果开发者想增加多种语言，在 Assets/MQChatViewAsset.bundle 增加对应的语言项目即可。</p>
<p><strong>注意</strong></p>
<p>为了能正常识别App的系统语言，开发者的 App 的 info.plist 中需要有添加 Localizations 配置。如果需要支持英文、简体中文、繁体中文，info.plist 的 Souce Code 中需要有如下配置：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">key</span>&gt;</span>CFBundleLocalizations<span class="tag">&lt;/<span class="title">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="title">array</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">string</span>&gt;</span>zh_CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">string</span>&gt;</span>zh_TW<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="title">string</span>&gt;</span>en<span class="tag">&lt;/<span class="title">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="title">array</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="To-do-list_-_待修复问题">To-do-list - 待修复问题</h2><p>由于 SDK 发布催的很紧，以下问题还没有得到妥善解决，但影响不大，所以还没有修复，开发者打怪得分后可提 PR ^.^：</p>
<ul>
<li>目前只支持单张图片全屏浏览，还不支持多张图片浏览；</li>
<li>下拉刷新的瞬间，tableView 会跳跃一下，给人造成一种”卡了一下”的感觉；</li>
<li>启动上拉刷新(底部刷新)，只显示了 loading 的 indicator，没有显示出 loading 的 path 效果；</li>
<li>使用 TTTAttributedLabel，输入 emoji，text 会往下偏移；</li>
<li>TTTAttributedLabel 中使用了 NSUnderlineColorAttributeName，导致不兼容 iOS 6，所以对于 iOS 7 以下的用户，消息气泡中的文字用的是 UILabel；所以对于 iOS 7 以下用户，没有文字选中的效果；</li>
<li>开发者可在项目中搜索#warning，其中有一个 warning 是 TTTAttributedLabel 的 bug，开发者感兴趣可以解决一下；</li>
</ul>
<h2 id="Vendors_-_用到的第三方开源库">Vendors - 用到的第三方开源库</h2><p>以下是该 Library 用到的第三方开源代码，如果开发者的项目中用到了相同的库，需要删除一份，避免类名冲突：</p>
<table>
<thead>
<tr>
<th>第三方开源库</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/rs/SDWebImage" target="_blank" rel="external">SDWebImage</a></td>
<td>知名的异步图片下载和图片缓存库；</td>
</tr>
<tr>
<td>VoiceConvert</td>
<td>AMR 和 WAV 语音格式的互转；没找到出处，哪位童鞋找到来源后，请更新下文档~</td>
</tr>
<tr>
<td><a href="https://github.com/molon/MLAudioRecorder" target="_blank" rel="external">MLAudioRecorder</a></td>
<td>边录边转码，播放网络音频 Button (本地缓存)，实时语音。<strong>注意</strong>，由于该开源项目中的 <a href="https://github.com/molon/MLAudioRecorder/tree/master/MLRecorder/MLAudioRecorder/mp3_en_de/lame.framework" target="_blank" rel="external">lame.framework</a> 不支持 <code>bitCode</code> ，所以我们去掉了该项目中有关 MP3 的文件；</td>
</tr>
<tr>
<td><a href="https://github.com/michaelhenry/MHFacebookImageViewer" target="_blank" rel="external">MHFacebookImageViewer</a></td>
<td>图片查看器；<strong>注意</strong>，我们对该开源库进行了修改，以支持单击关闭Viewer等一些操作，该修改版本可见 <a href="https://github.com/ijinmao/MHFacebookImageViewer" target="_blank" rel="external">MHFacebookImageViewer</a>；</td>
</tr>
<tr>
<td><a href="https://github.com/lyokato/FBDigitalFont" target="_blank" rel="external">FBDigitalFont</a></td>
<td>类 LED 显示效果，用于本项目中的语音倒计时显示；</td>
</tr>
<tr>
<td><a href="https://github.com/HansPinckaers/GrowingTextView" target="_blank" rel="external">GrowingTextView</a></td>
<td>随文字改变高度的的 textView，用于本项目中的聊天输入框；</td>
</tr>
<tr>
<td><a href="https://github.com/TTTAttributedLabel/TTTAttributedLabel" target="_blank" rel="external">TTTAttributedLabel</a></td>
<td>支持多种效果的 Lable，用于本项目中的聊天气泡的文字 Label；</td>
</tr>
<tr>
<td><a href="https://github.com/wimagguc/ios-custom-alertview" target="_blank" rel="external">CustomIOSAlertView</a></td>
<td>自定义的 AlertView，用于显示本项目的评价弹出框；<strong>注意</strong>，我们队该开源项目进行了修改，增加了按钮之间的分隔线条和判断当前是否已经有 AlertView 在显示，该修改版本可以见 <a href="https://github.com/ijinmao/ios-custom-alertview" target="_blank" rel="external">CustomIOSAlertView</a>；</td>
</tr>
</tbody>
</table>
<h2 id="Hope_to_Help_Each_Other_-_互助">Hope to Help Each Other - 互助</h2><p>由于开发进度紧张，该项目写的较快，肯定有很多地方没有考虑周到，欢迎开发者指正和建议~</p>
<p>如果该 Library 有帮助到你，或是你想完善此 Library，欢迎通过任何形式联系我们，一起讨论、一起互帮互助总是好的^.^</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-信鸽推送" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/29/信鸽推送/" class="article-date">
  	<time datetime="2016-01-29T00:42:25.000Z" itemprop="datePublished">2016-01-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/29/信鸽推送/">信鸽推送</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="XGPush_腾讯信鸽推送_for_Cordova">XGPush 腾讯信鸽推送 for Cordova</h1><ul>
<li>[160119] 升级 SDK</li>
<li>[151229] iOS SDK 版本更新至 2.4.5，重新规划 SDK 存储路径</li>
<li>[151015] 庆祝 20 Stars，SDK 升级</li>
</ul>
<table>
<thead>
<tr>
<th>SDK</th>
<th>version</th>
</tr>
</thead>
<tbody>
<tr>
<td>android</td>
<td>Xg-Push-SDK-Android-2.42</td>
</tr>
<tr>
<td>ios</td>
<td>Xg-Push-SDK-iOS-2.4.6</td>
</tr>
</tbody>
</table>
<p>腾讯信鸽推送服务：<a href="http://xg.qq.com/" target="_blank" rel="external">http://xg.qq.com/</a></p>
<p>Cordova 版本：3.x / 4.x / 5.x</p>
<p>这个插件支持通知与消息，同时针对混合应用的生命周期进行了处理，保证消息的抵达。</p>
<h2 id="安装方法">安装方法</h2><p>打开控制台，进入 Cordova 项目目录，输入：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cordova plugin add https://github.com/ETENG-OSP/xgpush-cordova --save \</span><br><span class="line">  --variable ACCESS_ID=<span class="string">"Your Access ID"</span> \</span><br><span class="line">  --variable ACCESS_KEY=<span class="string">"Your Access Key"</span></span><br></pre></td></tr></table></figure>
<h2 id="使用方法">使用方法</h2><p>安装完成即可接收推送通知。这种用法适合于仅需要偶尔向全部用户发信息的情况。</p>
<p>如果需要精确控制，参考以下 API 和事件。</p>
<h3 id="API">API</h3><ul>
<li><p><strong>xgpush.registerPush([alias])</strong>: 注册设备</p>
<p>这个方法可以手动注册设备。如果需要为接收推送的设备取别名以便有针对性的通知，需要在 <code>deviceready</code> 后注册别名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这里的别名是可选的，不传代表没用别名</span></span><br><span class="line">xgpush.registerPush(<span class="string">'tom'</span>);</span><br></pre></td></tr></table></figure>
<p>如果需要结果，可以用 Promise 的形式获取：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xgpush.registerPush(<span class="string">'tom'</span>).then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// results 里有 flag 和 data</span></span><br><span class="line">  alert(<span class="string">'设备的 token 是: '</span> + results.data);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>可以重复注册，下一个别名会替换上一个别名。</p>
</li>
<li><p><strong>xgpush.unregisterPush()</strong>: 注销设备</p>
<p>如果不想接收推送，使用 <code>xgpush.unregisterPush</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xgpush.unregisterPush()</span><br></pre></td></tr></table></figure>
<p>这个方法也返回 Promise。</p>
</li>
</ul>
<h3 id="事件">事件</h3><ul>
<li><strong>textmessage</strong>: 文本消息</li>
</ul>
<p>如果需要接受消息，直接在代码里处理，可以监听 <code>textmessage</code> 事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xgpush.on(<span class="string">'textmessage'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 事件处理方法</span></span><br><span class="line">  alert(<span class="built_in">JSON</span>.stringify(<span class="built_in">arguments</span>, <span class="literal">null</span>, <span class="number">2</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>事件采用了与 Node.js 事件兼容的 eventemitter3。具体方法参考：<a href="https://nodejs.org/api/events.html" target="_blank" rel="external">https://nodejs.org/api/events.html</a></p>
<h2 id="用例">用例</h2><p>如果需要推送一条信息，用户在点击该信息后进入应用，同时触发程序逻辑。可以发送一个带有自定义 URL scheme 的通知。</p>
<p>参考这个插件：<a href="https://github.com/EddyVerbruggen/Custom-URL-scheme" target="_blank" rel="external">https://github.com/EddyVerbruggen/Custom-URL-scheme</a></p>
<h2 id="注意事项">注意事项</h2><h3 id="armv7s_与_xcode_6">armv7s 与 xcode 6</h3><p>如果执行 <code>cordova build --device --release</code> 不成功，请去掉 <code>build.js</code> 里的 armv7s。</p>
<p>参考：<br><a href="https://issues.apache.org/jira/browse/CB-8788" target="_blank" rel="external">https://issues.apache.org/jira/browse/CB-8788</a></p>
<h3 id="不同平台_so_文件">不同平台 so 文件</h3><p>这个插件内置了 armeabi 的库文件。如果目标平台不是 armeabi，请到 <a href="http://xg.qq.com/xg/help/ctr_help/download" target="_blank" rel="external">http://xg.qq.com/xg/help/ctr_help/download</a> 下载对应版本的 SDK。</p>
<p>以下引用 SDK 中的说明：</p>
<blockquote>
<ol>
<li><p>信鸽的 .so 支持所有的 android 平台，但考虑到平时接入一般只需要 armeabi 平台，因此 libs 目录只提供该平台的 .so，其它平台可在上层目录的 All-Platform-SO 找到。</p>
</li>
<li><p>嵌入 .so 可能存在的问题：</p>
<ol>
<li><p>so 文件与 jar 包不匹配。</p>
<p>解决办法：在更新 jar 时同时更新对应的 so 文件；</p>
</li>
<li><p>当前工程已有某些平台的 so，如只有 armeabi 平台，却添加信鸽所有平台导致打包时异常。</p>
<p>解决办法：只添加当前工程已有的平台的信鸽 so 文件。具体可参考网上或以下示例：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&gt;     armeabi	   ！此平台既有当前存在so又有信鸽，正常！</span><br><span class="line">&gt;       <span class="comment">--libCurrent.so			当前工程已有so</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsSecurity.so	信鸽</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsWatchdog.so	信鸽</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;     armeabi-v7a	！此平台既有当前存在so又有信鸽，正常！</span><br><span class="line">&gt;       <span class="comment">--libCurrent.so			当前工程已有so</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsSecurity.so	信鸽</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsWatchdog.so	信鸽</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;     mips	！！！错误，由于此平台只有信鸽，必须删掉mips目录！！！</span><br><span class="line">&gt;       <span class="comment">--libtpnsSecurity.so	信鸽</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsWatchdog.so	信鸽</span></span><br><span class="line">&gt;</span><br><span class="line">&gt;     x86		！！！错误，由于此平台只有信鸽，必须删掉x86目录！！！</span><br><span class="line">&gt;       <span class="comment">--libtpnsSecurity.so	信鸽</span></span><br><span class="line">&gt;       <span class="comment">--libtpnsWatchdog.so	信鸽</span></span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ol>
</blockquote>
<p>&gt;</p>
<blockquote>
<ol>
<li><p>若当前工程不存在 so 文件。</p>
<p>解决办法：可复制所有信鸽平台或只复制 armeabi 平台。</p>
</li>
</ol>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-模仿微信" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/27/模仿微信/" class="article-date">
  	<time datetime="2016-01-27T04:50:16.000Z" itemprop="datePublished">2016-01-27</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/27/模仿微信/">模仿微信</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="https://github.com/xhzengAIB/LearnEnglish/raw/master/Screenshots/MessageDisplayKit.png" alt=""></p>
<h1 id="MessageDisplayKit">MessageDisplayKit</h1><p>一个类似微信App的IM应用，拥有发送文字、图片、语音、视频、地理位置消息，管理本地通信录、分享朋友圈、漂流交友、摇一摇和更多有趣的功能。<br>An IM APP like WeChat which has sending text, pictures, audio, video, location messaging, managing local address book, share moments with friends, drift bottle, shake for new friends and some other interesting features.<br><img src="https://github.com/xhzengAIB/LearnEnglish/raw/master/Screenshots/MessageDisplayKit.gif" alt="image"></p>
<h2 id="宝贵意见">宝贵意见</h2><p>如果有任何问题，请到github开issue，<a href="https://github.com/xhzengAIB/MessageDisplayKit/issues?state=open" target="_blank" rel="external">点击这里</a>移步新建一个issue，写上你不明白的地方，我会在github给予帮助。                        </p>
<p>很多朋友反应，只看到静态库，看不到源码，一个工作区域内，有多个使用例子，也包含了源码，源码请<a href="https://github.com/xhzengAIB/MessageDisplayKit/tree/master/MessageDisplayKit" target="_blank" rel="external">戳这里</a>, 让大家都可以快速查看到。</p>
<p>Most of code has comments with which I believe you can understand them. If you can’t understand the code please feel free to [open an issue] (<a href="https://github.com/xhzengAIB/MessageDisplayKit/issues?state=open" target="_blank" rel="external">https://github.com/xhzengAIB/MessageDisplayKit/issues?state=open</a>) I will do my best to answer them.</p>
<h2 id="非常有趣，在LeanClound的开发者支持下，将开始全面的改进，将没有实现业务的功能进行对接LC的后台，敬请期待哦！">非常有趣，在LeanClound的开发者支持下，将开始全面的改进，将没有实现业务的功能进行对接LC的后台，敬请期待哦！</h2><h2 id="组件要求_Requirements">组件要求                                        Requirements</h2><ul>
<li>iPhone4/5/6/6+/iPad，Portrait</li>
<li>Xcode6 or later</li>
<li>iOS 6.0+ </li>
<li>ARC</li>
<li>System Frameworks : ‘Foundation’, ‘CoreGraphics’, ‘UIKit’, ‘MobileCoreServices’, ‘AVFoundation’, ‘CoreLocation’, ‘MediaPlayer’, ‘CoreMedia’, ‘CoreText’, ‘AudioToolbox’.</li>
</ul>
<h2 id="Podfile">Podfile</h2><p><a href="http://cocoapods.org/" target="_blank" rel="external">CocoaPods</a> is the recommended method to install MessageDisplayKit, just add the following line to <code>Podfile</code></p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">pod</span> <span class="string">'MessageDisplayKit'</span></span><br></pre></td></tr></table></figure>
<p>and run <code>pod install</code>, then you’re all done!</p>
<h2 id="TODO">TODO</h2><ul>
<li>尽量去除绘制代码，由于现在引起性能下降的原因之一。<br>Delete drawRect code, because of lead to lower FPS. </li>
<li>语音转换处理，适应多平台可用语音、视频等数据。<br>Convert audio format.</li>
<li>搭建服务器。<br>Build server </li>
<li>模仿微信全部功能。</li>
</ul>
<h2 id="特性_Features">特性 Features</h2><ul>
<li>1、高度可定制。<br>Highly customizable.                           </li>
<li>2、任意消息的大小。<br>Arbitrary message sizes.                           </li>
<li>3、复制&amp;粘贴消息。<br>Able to copy &amp; paste messages.                           </li>
<li>4、数据检查器(确认电话号码、链接、日期等)。<br>Data detectors (recognizes phone numbers, links, dates, etc.).                           </li>
<li>5、时间戳。<br>Timestamps.                           </li>
<li>6、头像。<br>Avatars.                           </li>
<li>7、向下滑动隐藏键盘。<br>Swipe down to hide keyboard.                           </li>
<li>8、动态调整输入文本视图类型。<br>Dynamically resize input text view as you type.                           </li>
<li>9、自动启用/禁用发送按钮(如果文本视图是空的或不是)。<br>Automatically enable/disable send button according to the content of text view.                           </li>
<li>10、发送/接收声音效果。<br>Send/Receive sound effects.                           </li>
<li>11、发送语音。<br>Send voice messages.                           </li>
<li>12、发送图片。<br>Send photos.                           </li>
<li>13、发送视频。<br>Send videos.                           </li>
<li>14、发送地理位置。<br>Send geolocations.                           </li>
<li>15、发送第三方gif表情。<br>Send third party gif message.                           </li>
<li>16、通用于iPhone和iPad。<br>Support both iPhone and iPad.                            </li>
<li>17、支持StoryBorad。<br>Support the StoryBorad to user.                              </li>
<li>18、支持下拉加载更多旧消息，处理了保持可见cell不滚动的效果。<br>Support pull down load more old message, keep visible cells static when inserting old message at top.</li>
<li>19、支持通信录</li>
<li>20、支持朋友圈</li>
<li>21、支持扫一扫</li>
<li>22、支持摇一摇</li>
<li>23、支持附近的人</li>
<li>24、支持漂流瓶</li>
<li>25、支持多选联系人</li>
<li>26、支持新闻模板嵌套</li>
<li>27、支持弹出Menu菜单</li>
<li>28、支持游戏室展示</li>
<li>29、支持表情商店预览</li>
<li>30、核心网络层。<br>Core Network Layer.                                                          </li>
<li>31、核心缓存层。<br>Core Cache Layer.                                                    </li>
<li>32、核心数据层。<br>Core Model Layer.                      </li>
<li>33、优化TableView性能<br>Majorization tableView performance.                        </li>
<li>34、强化gif播放机制<br>Keep FPS due wih gif play.                      </li>
</ul>
<h2 id="How_to_use">How to use</h2><p>Easy to drop into your project.                                </p>
<ul>
<li><p>1、#import “XHMessageTableViewController.h”                                </p>
</li>
<li><p>2、Your must be subClass XHMessageTableViewController.                                </p>
</li>
<li><p>3、implementation XHMessageTableViewController delegate due with message send.                                </p>
</li>
<li><p>4、implementation XHMessageTableViewController DataSource due with message source.                                </p>
</li>
<li><p>5、If you went to emotion message / plug function / audio play, must be implementation other delegate or dataSource.                                                                   </p>
</li>
<li>Detail look this <a href="https://github.com/xhzengAIB/MessageDisplayKit/blob/master/Example/MessageDisplayExample/MessageDisplayExample/XHDemoWeChatMessageTableViewController.m" target="_blank" rel="external">demo</a>.                           </li>
</ul>
<h2 id="License">License</h2><p>中文: MessageDisplayKit 是在MIT协议下使用的，可以在LICENSE文件里面找到相关的使用协议信息。</p>
<p>English: MessageDisplayKit is available under the MIT license, see the LICENSE file for more information.     </p>
<h2 id="须知_Notes">须知       Notes</h2><p>如果您在您的项目中使用该开源组件，请给我们发<a href="mailto:xhzengAIB@gmail.com?subject=From%20GitHub%20MessageDisplayKit" target="_blank" rel="external">电子邮件</a>告诉我们您的应用程序的名称，谢谢！主要是为了互推的效果，如果您的app火了，请给予少许的回报，如果您的App不火，或许能通过这个开源库了解到您的App！<br>主要目的只有一个，互推，使用该开源库的开发者，我都会向其保证，永远免费，不涉及任何商业纠纷的事情，请放心使用。</p>
<p>If you use this open source components in your project, please <a href="mailto:xhzengAIB@gmail.com?subject=From%20GitHub%20MessageDisplayKit" target="_blank" rel="external">Email us</a> to notify us the name of your application(s). Thanks!</p>
<h2 id="What_app_use_this_open_source">What app use this open source</h2><p>这里会列出所有使用该开源库的App列表。<br><a href="https://github.com/leancloud/leanchat-ios" target="_blank" rel="external">leanchat-ios</a>，LeanCloud 提供一站式后端云服务，从数据存储、实时聊天、消息推送到移动统计，涵盖应用开发的多方面后端需求。<br><a href="https://itunes.apple.com/cn/app/jia-xin-dao-gou-yuan/id918014453?mt=8" target="_blank" rel="external">家信-导购员</a>家信，专属家居导购员的商务沟通APP。家信app，将家居消费者与离他最近的导购员及时对接。消费者微信在线随时随地与导购员接触沟通；导购员家信在线时时处处为消费者提供各种资讯、商品、咨询、导购服务，辅助消费者决策，促进消费购买，提升服务体验。</p>
<h2 id="使用到的第三方组件">使用到的第三方组件</h2><ul>
<li><a href="https://github.com/JackTeam/PathCover" target="_blank" rel="external">PathCover</a>用于朋友圈的下拉刷新。</li>
<li><a href="https://github.com/JackTeam/XHImageViewer" target="_blank" rel="external">XHImageViewer</a>图片查看器，用于整个项目。</li>
<li><a href="https://github.com/xhzengAIB/XHRefreshControl" target="_blank" rel="external">XHRefreshControl</a>是一款高扩展性、低耦合度的下拉刷新、上提加载更多的组件。用于整个项目的所有下拉刷新和上提加载更多的UI和业务逻辑。    </li>
<li></li>
<li>谢谢<a href="https://github.com/molon" target="_blank" rel="external">molon</a>提供多选组件<a href="https://github.com/molon/MLMultiSelectViewController" target="_blank" rel="external">MLMultiSelectViewController</a>，现在已经集成进去了。可用于群聊、添加多个朋友、等等。</li>
<li>Thanks you <a href="https://github.com/lakesoft" target="_blank" rel="external">lakesoft</a> provide <a href="https://github.com/lakesoft/LKBadgeView" target="_blank" rel="external">LKBadgeView</a>.</li>
<li>Thanks you <a href="https://github.com/kishikawakatsumi" target="_blank" rel="external">kishikawakatsumi</a> provide <a href="https://github.com/kishikawakatsumi/SECoreTextView" target="_blank" rel="external">SECoreTextView</a>.     </li>
</ul>
<h2 id="Thanks_Developer">Thanks Developer</h2><p><a href="https://itunes.apple.com/us/app/wo-jia-jia-ting-quan-si-mi/id538285014?mt=8" target="_blank" rel="external">我家App</a>的主程Aevit提供了技术支持，他的<a href="https://github.com/Aevit" target="_blank" rel="external">github</a>地址，点击<a href="https://itunes.apple.com/us/app/wo-jia-jia-ting-quan-si-mi/id538285014?mt=8" target="_blank" rel="external">我家App</a>下载安装，如果看到里面有好的效果，可以协商开源。                       </p>
<p>谢谢<a href="https://itunes.apple.com/cn/app/wei-xin/id414478124?mt=8" target="_blank" rel="external">微信App</a>给予我鼓励，我参考了很多框架设计问题、也提供了许多素材，但是请网友不要直接使用素材，我不知道是否会引起侵权的问题，所以请自重，我这里只是模仿微信，而不是攻击。使用该开源库所导致的所有侵权关系与我无关，我只是提供学习机会。不是原创只是分享一些好的项目。                                         </p>
<h2 id="警告">警告</h2><p>请不要拿该工程的微信图片资源文件用于商业使用，如果不遵守规则，而产生的法律责任，一律与我无关。代码按照上文描述的License和Notes来使用。                              </p>
<h2 id="Credits">Credits</h2><p>Thanks to <a href="https://github.com/jessesquires" target="_blank" rel="external">jessesquires</a> who created <a href="https://github.com/jessesquires/MessagesTableViewController" target="_blank" rel="external">JSMessagesViewController</a> on which my chat list UI work is based.                             </p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-便捷开发的小插件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/23/便捷开发的小插件/" class="article-date">
  	<time datetime="2016-01-23T01:43:25.000Z" itemprop="datePublished">2016-01-23</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/23/便捷开发的小插件/">便捷开发的小插件</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ColorSenseRainbow">ColorSenseRainbow</h1><p>A plugin for Xcode that shows colours and allows you to modify them.  It works for both UIColor and NSColor in Swift and Objective-C.</p>
<p>When you place the caret over some code that declares a colour in Xcode then the code will be framed and a small rectangle will appear right above the text aligned to the right displaying that colour.  This allows you to view the colour.  I don’t know about you but, except for some easy cases, I can’t tell what a colour is by looking at the numbers.  For example the following leaves me baffled:</p>
<pre><code>UIColor( red: <span class="number">143.0</span>/<span class="number">255</span>, green: <span class="number">87.0</span>/<span class="number">255.0</span>, blue: <span class="number">233.0</span>/<span class="number">255.0</span>, alpha: <span class="number">1.0</span> )
</code></pre><p>But with the plugin it becomes:</p>
<p><img src="CSR_Demo.png" alt="Demo of the plugin"></p>
<p>If you click on the color then a color picker is displayed.  As you choose colours the code is updated.  One thing to note is if you select a predefined colour and start changing the colour then the code gets changed to RGB values.  In the other cases I’ve tried to keep it as non-destructive as possible though at times the number of decimal places can change.  When the alpha isn’t specified (it isn’t required as part of the Rainbow library as I set it to a default value of 1.0) then the plugin doesn’t add the alpha component to the code.  As of May 29, 2015 the plugin will now add the alpha component for you in Swift if you change the value in the colour picker.</p>
<p>This project was inspired from <a href="https://github.com/omz/ColorSense-for-Xcode" target="_blank" rel="external">Color Sense for Xcode</a>.  In fact it looks (and I think it behaves mostly) like it.  But I built it completely from scratch in Swift though I did use that project as a template for some items as I haven’t done anything on the Mac side before.  </p>
<h1 id="Installing">Installing</h1><p>There are three ways to install the plugin.</p>
<ol>
<li>Download the code and build it.  Xcode will install the plugin in the right directory.  Restart Xcode.</li>
<li>Download the plugin and place it in the ~/Library/Application Support/Developer/Shared/Xcode/Plug-ins directory.  Restart Xcode.</li>
<li>Use the plugin <a href="http://alcatraz.io" target="_blank" rel="external">Alcatraz</a> to install and then restart Xcode.</li>
</ol>
<h1 id="Why_rewrite?">Why rewrite?</h1><p>I was having problems extending it to use my <a href="https://github.com/NorthernRealities/Rainbow" target="_blank" rel="external">Rainbow</a> and <a href="https://github.com/NorthernRealities/Rainbow-Creator" target="_blank" rel="external">Rainbow Creator</a> libraries.  I just figured that by the time that I learned how the plugin worked to extend it I had learned enough to rebuild it.  There were a few design decisions that I didn’t agree with.  Not saying that they were wrong, they are just different than what I chose in my version.  </p>
<p>I’m very thankful to Ole Zorn for the original version and all those who worked on it after.  I couldn’t have written my version with theirs.  I didn’t know about plugins, color wells, or a number of other things that I learned while writing this.  </p>
<h1 id="Extending">Extending</h1><p>I’ve tried to make the code very modular and extensible.  I’ll walk through two examples on how to expand the functionality.  Colours are found using a series of regular expressions.  Each one was kept as simple as possible to do a specific task.  I created a number of simple searches instead of having a few overly complex ones.  For example I could have had one regular expression that handled specifying float values (0.0-1.0), calculated values (45/255), and integer values (45) with the alpha being optional. Instead I made it into six regular expressions stored in three Seeker subclasses.  I felt that this decision greatly reduced the work when it came time to replace the code for new colors (the Builder classes) and improves readability.</p>
<p>When adding a new method of colour creation to be illustrated you should see if it is similar to something that the plugin already does.  Similarity would be creating a colour with the same parameters.</p>
<p>At the moment the Rainbow Creator library only works in Swift.  In there is a extension to UIColor and NSColor that allows you to create colours without having to divide integer values by 255.0.  If I were to implement the library in Objective-C then I would also need to update this plugin.  Because the Objective-C code using the library would be so similar to the Swift code the best place for me to update this plugin would be RainbowIntSeeker class.  All that needs to be done in this case is to create the new regular expressions and test.  </p>
<p>The classes that replace the code with the new color information parse the string and change the values instead of creating brand new code from scratch.  This has the benefit of keeping any formatting the user has put in (I like extra space) and it saves from having to write a bunch of if statements to check if the language is Swift or Objective-C and if the colour is a NSColor or an UIColor.  The disadvantage is that there are some functions that still use NSRange and may cause problems when used with text containing extended characters such as emoticons.</p>
<p>Assuming that you want to extend the plugin and it isn’t for something simple like the above then you are going to need to a bit more work.  But hopefully not too much.  The following are the steps I would take to add the handling of the creation of colours using hue, saturation, and brightness (HSB).  When overriding a function metioned below take a look at the other classes as a template.  They all follow a similar pattern.</p>
<ul>
<li>Add a value to the CSRColorCreationType in the SearchResult class</li>
<li>Create a new Seeker subclass</li>
<li>Override the init method to define the regular expressions needed</li>
<li>Override the processMatch method to store values when a match is made and create the color. Remember to change the creation type of the search result to the value you made in the first step. (While you would create the color with HSB values you would want to get a copy of the color in the RGB colorspace as later on the plugin assumes the color is in that colorspace.  It <strong>will crash</strong> if you don’t do this!)</li>
<li>Add the new Seeker subclass object to the array found in ColorFinder.  It’s probably best to do this at the end for performance reasons.  The most common ways to define colours should be at the front so they are found first reducing the amount of searching to be done.</li>
<li>Create a new subclass of ColorBuilder</li>
<li>Override the function stringForColor</li>
<li>Add the new ColorBuilder subclass in the switch statement in the ColorBuilderFactory.</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-模仿新浪UI" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/21/模仿新浪UI/" class="article-date">
  	<time datetime="2016-01-21T06:53:50.000Z" itemprop="datePublished">2016-01-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/21/模仿新浪UI/">模仿新浪UI</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://raw.githubusercontent.com/bb-coder/BHBPopView/master/LICENSE" target="_blank" rel="external"><img src="https://img.shields.io/badge/license-MIT-green.svg?style=flat" alt="License MIT"></a><br><a href="http://cocoapods.org/?q=BHBPopView" target="_blank" rel="external"><img src="http://img.shields.io/cocoapods/v/YYKit.svg?style=flat" alt="CocoaPods"></a><br><a href="http://cocoapods.org/?q=BHBPopView" target="_blank" rel="external"><img src="http://img.shields.io/cocoapods/p/YYKit.svg?style=flat" alt="CocoaPods"></a><br><a href="https://www.apple.com/nl/ios/" target="_blank" rel="external"><img src="https://img.shields.io/badge/support-iOS%207%2B%20-blue.svg?style=flat" alt="Support"></a></p>
<h1 id="BHBPopView">BHBPopView</h1><p>仿新浪微博客户端“加号”按钮弹出动画</p>
<p><img src="http://7xkdhe.com1.z0.glb.clouddn.com/sinaAnimation1.gif" alt="演示1"><br><img src="http://7xkdhe.com1.z0.glb.clouddn.com/sinaAnimation2.gif" alt="演示2"></p>
<p>##怎么使用：</p>
<p>###0.下载或者在cocoapods中引入：</p>
<pre><code><span class="title">pod</span> <span class="string">'BHBPopView'</span>, <span class="string">'~&gt; 1.0.0'</span>
</code></pre><p>###1.导入头文件</p>
<pre><code><span class="id">#import</span> <span class="string">"BHBPopView.h"</span>
</code></pre><p>###2.显示弹出框<br>    //添加popview<br>    [BHBPopView showToView:self.view<br>        andImages:@[@”images.bundle/tabbar_compose_idea”,<br>          @”images.bundle/tabbar_compose_photo”,@”images.bundle/tabbar_compose_camera”,<br>          @”images.bundle/tabbar_compose_lbs”,@”images.bundle/tabbar_compose_review”,<br>          @”images.bundle/tabbar_compose_more”]<br>        andTitles:<br>          @[@”Text”,@”Albums”,@”Camera”,@”Check in”,@”Review”,@”More”]<br>        andSelectBlock:^(BHBItem *item, NSInteger index) {</p>
<pre><code>    }
]<span class="comment">;</span>
</code></pre><p>###3.使用带more按钮滑动显示第二屏功能<br>    BHBItem <em> item0 = [[BHBItem alloc]initWithTitle:@”Text” Icon:@”images.bundle/tabbar_compose_idea”];<br>    BHBItem </em> item1 = [[BHBItem alloc]initWithTitle:@”Albums” Icon:@”images.bundle/tabbar_compose_photo”];<br>    BHBItem <em> item2 = [[BHBItem alloc]initWithTitle:@”Camera” Icon:@”images.bundle/tabbar_compose_camera”];<br>    BHBItem </em> item3 = [[BHBItem alloc]initWithTitle:@”Check in” Icon:@”images.bundle/tabbar_compose_lbs”];<br>    BHBItem <em> item4 = [[BHBItem alloc]initWithTitle:@”Review” Icon:@”images.bundle/tabbar_compose_review”];<br>    BHBItem </em> item5 = [[BHBItem alloc]initWithTitle:@”More” Icon:@”images.bundle/tabbar_compose_more”];<br>    //第六个按钮是more按钮<br>    item5.isMore = YES;<br>    BHBItem <em> item6 = [[BHBItem alloc]initWithTitle:@”Friend Circle” Icon:@”images.bundle/tabbar_compose_friend”];<br>    BHBItem </em> item7 = [[BHBItem alloc]initWithTitle:@”Weibo Camera” Icon:@”images.bundle/tabbar_compose_wbcamera”];<br>    BHBItem <em> item8 = [[BHBItem alloc]initWithTitle:@”Music” Icon:@”images.bundle/tabbar_compose_music”];<br>    BHBItem </em> item9 = [[BHBItem alloc]initWithTitle:@”Blog” Icon:@”images.bundle/tabbar_compose_weibo”];<br>    BHBItem <em> item10 = [[BHBItem alloc]initWithTitle:@”Collection” Icon:@”images.bundle/tabbar_compose_transfer”];<br>    BHBItem </em> item11 = [[BHBItem alloc]initWithTitle:@”Voice” Icon:@”images.bundle/tabbar_compose_voice”];</p>
<pre><code><span class="comment">//添加popview</span>
[BHBPopView <span class="string">showToView:</span>self.view <span class="string">withItems:</span>@[item0,item1,item2,item3,item4,item5,item6,item7,item8,item9,item10,item11]<span class="string">andSelectBlock:</span>^(BHBItem *item, NSInteger index) {
    NSLog(@<span class="string">"%ld,选中%@"</span>,index,item.title);
}];
</code></pre>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-iOS二维码" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/14/iOS二维码/" class="article-date">
  	<time datetime="2016-01-14T02:45:37.000Z" itemprop="datePublished">2016-01-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ios_二维码、条形码_objective-c_版本">ios 二维码、条形码 objective-c 版本</h1><h4 id="Swift_Version">Swift Version <img src="https://github.com/MxABC/LBXScan/blob/master/DemoTests/swiftIcon.png" height="25" width="25"></h4><p>对应的swift版本请看 : <strong><a href="https://github.com/MxABC/swiftScan" target="_blank" rel="external">swiftScan</a></strong></p>
<h2 id="介绍">介绍</h2><p><strong>iOS扫码封装 objective-c版本 封装ios系统API和ZXing</strong></p>
<ul>
<li>扫码界面效果封装</li>
<li>二维码、条形码</li>
<li>相册获取图片后识别</li>
</ul>
<p><strong>模仿其他app</strong></p>
<ul>
<li>模仿QQ扫码界面</li>
<li>支付宝扫码框效果</li>
<li>微信扫码框效果</li>
</ul>
<p><strong>其他设置参数自定义效果</strong></p>
<ul>
<li>扫码框周围区域背景色可设置</li>
<li>扫码框颜色可也设置</li>
<li>扫码框4个角的颜色可设置、大小可设置</li>
<li>可设置只识别扫码框内的图像区域</li>
<li>可设置扫码成功后，获取当前图片</li>
<li>动画效果选择:  线条上下移动、网格形式移动、中间线条不移动(一般扫码条形码的效果)</li>
<li>如果好用请帮忙右上角 star 支持一下</li>
</ul>
<h1 id="安装">安装</h1><h3 id="Installation_with_CocoaPods">Installation with CocoaPods</h3><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source <span class="string">'https://github.com/CocoaPods/Specs.git'</span></span><br><span class="line">platform <span class="symbol">:ios</span>, <span class="string">'6.0'</span></span><br><span class="line">pod <span class="string">'LBXScan'</span></span><br></pre></td></tr></table></figure>
<h3 id="手动安装">手动安装</h3><p>下载后将LBXScan文件夹copy到工程中<br>添加预编译 pch文件 （如何添加请百度）<br>并在其中添加<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#import &#60;Foundation/Foundation.h&#62;&#10;#import &#60;UIKit/UIKit.h&#62;</span><br></pre></td></tr></table></figure></p>
<p>否则编译会报许多错误</p>
<p>另外需要将ZXing代码copy到工程中:<a href="https://github.com/TheLevelUp/ZXingObjC" target="_blank" rel="external">ZXing代码下载地址</a></p>
<h3 id="Demo测试">Demo测试</h3><ul>
<li>xcode版本:xcode7.1</li>
<li>将工程下载下来，打开DemoTests中 LBXScanDemo.xcworkspace</li>
</ul>
<h3 id="使用">使用</h3><ul>
<li>LBXScanViewStyle:设置界面参数,具体各个参数请参看代码头文件</li>
<li>LBXScanViewController:扫码界面基类控制器，实现基本的扫码功能、相册功能、闪光灯开启关闭、扫码框相关效果，其他提示语及界面请继承LBXScanViewController后添加</li>
</ul>
<p>####模仿qq界面效果<br><figure class="highlight obj-c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">- (<span class="keyword">void</span>)qqStyle</span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">//设置扫码区域参数设置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建参数对象</span></span><br><span class="line">LBXScanViewStyle *style = [[LBXScanViewStyle alloc]init];</span><br><span class="line"></span><br><span class="line"><span class="comment">//矩形区域中心上移，默认中心点为屏幕中心点</span></span><br><span class="line">style<span class="variable">.centerUpOffset</span> = <span class="number">44</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扫码框周围4个角的类型,设置为外挂式</span></span><br><span class="line">style<span class="variable">.photoframeAngleStyle</span> = LBXScanViewPhotoframeAngleStyle_Outer;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扫码框周围4个角绘制的线条宽度</span></span><br><span class="line">style<span class="variable">.photoframeLineW</span> = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扫码框周围4个角的宽度</span></span><br><span class="line">style<span class="variable">.photoframeAngleW</span> = <span class="number">24</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扫码框周围4个角的高度</span></span><br><span class="line">style<span class="variable">.photoframeAngleH</span> = <span class="number">24</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扫码框内 动画类型 --线条上下移动</span></span><br><span class="line">style<span class="variable">.anmiationStyle</span> = LBXScanViewAnimationStyle_LineMove;</span><br><span class="line"></span><br><span class="line"><span class="comment">//线条上下移动图片</span></span><br><span class="line">style<span class="variable">.animationImage</span> = [<span class="built_in">UIImage</span> imageNamed:<span class="string">@"CodeScan.bundle/qrcode_scan_light_green"</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//SubLBXScanViewController继承自LBXScanViewController</span></span><br><span class="line"><span class="comment">//添加一些扫码或相册结果处理</span></span><br><span class="line">SubLBXScanViewController *vc = [SubLBXScanViewController new];</span><br><span class="line">vc<span class="variable">.style</span> = style;   </span><br><span class="line"></span><br><span class="line">vc<span class="variable">.isQQSimulator</span> = <span class="literal">YES</span>;</span><br><span class="line">[<span class="keyword">self</span><span class="variable">.navigationController</span> pushViewController:vc animated:<span class="literal">YES</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>####自定义参数部分介绍<br>```obj-c</p>
<ul>
<li>(void)custom<br>{<br>//设置扫码区域参数<br>LBXScanViewStyle *style = [[LBXScanViewStyle alloc]init];<br>style.centerUpOffset = 44;</li>
</ul>
<p>//扫码框周围4个角的类型设置为在框的上面<br>style.photoframeAngleStyle = LBXScanViewPhotoframeAngleStyle_On;<br>//扫码框周围4个角绘制线宽度<br>style.photoframeLineW = 6;</p>
<p>//扫码框周围4个角的宽度<br>style.photoframeAngleW = 24;</p>
<p>//扫码框周围4个角的高度<br>style.photoframeAngleH = 24;</p>
<p>//显示矩形框<br>style.isNeedShowRetangle = YES;</p>
<p>//动画类型：网格形式，模仿支付宝<br>style.anmiationStyle = LBXScanViewAnimationStyle_NetGrid;</p>
<p>//网格图片<br>style.animationImage = [UIImage imageNamed:@”CodeScan.bundle/qrcode_scan_part_net”];;</p>
<p>//码框周围4个角的颜色<br>style.colorAngle = [UIColor colorWithRed:65./255. green:174./255. blue:57./255. alpha:1.0];</p>
<p>//矩形框颜色<br>style.colorRetangleLine = [UIColor colorWithRed:247/255. green:202./255. blue:15./255. alpha:1.0];</p>
<p>//非矩形框区域颜色<br>style.red_notRecoginitonArea = 247./255.;<br>style.green_notRecoginitonArea = 202./255;<br>style.blue_notRecoginitonArea = 15./255;<br>style.alpa_notRecoginitonArea = 0.2;</p>
<p>SubLBXScanViewController *vc = [SubLBXScanViewController new];<br>vc.style = style;</p>
<p>//开启只识别矩形框内图像功能<br>vc.isOpenInterestRect = YES;<br>[self.navigationController pushViewController:vc animated:YES];</p>
<p>}</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-UIAlertController使用方法" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/30/UIAlertController使用方法/" class="article-date">
  	<time datetime="2015-11-30T15:00:58.000Z" itemprop="datePublished">2015-11-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/30/UIAlertController使用方法/">UIAlertController使用方法</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="UIAlertController使用">UIAlertController使用</h2><p>UIAlertController基本可以简单的理解为UIAlertView + UIActionSheet。<br>需要注意的是：UIAcertController是要在viewDidAppear之后加载才会显示。</p>
<h3 id="UIAlertView">UIAlertView</h3><p><img src="http://i12.tietuku.com/c7ea0283c65d8aee.png" alt=""></p>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UIAlertController/">UIAlertController</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/iOS/">iOS</a>
	</div>


      
        <p class="article-more-link">
          <a  href="/2015/11/30/UIAlertController使用方法/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
    <article id="post-刚刚开始" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/11/29/刚刚开始/" class="article-date">
  	<time datetime="2015-11-29T08:26:25.000Z" itemprop="datePublished">2015-11-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/11/29/刚刚开始/">刚刚开始</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我是一名iOS工程师，由于工作原因，一直没有时间来更新博客，现在有时间写博客了，算是对自己掌握的知识整理与回顾，希望能给人带来方便。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>







  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 杨晓龙
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>